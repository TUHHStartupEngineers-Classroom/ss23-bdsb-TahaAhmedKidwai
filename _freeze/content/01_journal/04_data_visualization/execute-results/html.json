{
  "hash": "870656ff6f698087c17d11fba17fce74",
  "result": {
    "markdown": "---\ntitle: \"Data_Visualization_Assignment\"\nauthor: \"Taha_Ahmed\"\ndate: \"2023-05-18\"\noutput: html_document\n---\n\noutput:\n  html_document:\n    toc: true\n    toc_float: true\n    df_print: paged\n    collapsed: false\n    number_sections: true\n    toc_depth: 3\n    code_folding: hide\n\n---\n\n\n\n\n\n# Data visualization challenge 1\n\nLast compiled: 2023-05-23\n::: {.cell hash='04_data_visualization_cache/html/unnamed-chunk-1_73e116ae73b905f66bc2e5636aadfdef'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggthemes)\nlibrary(ggrepel)\nlibrary(lubridate)\n\n## CHallenge 1\ncovid_data_tbl <- read_csv(\"https://covid.ourworldindata.org/data/owid-covid-data.csv\") %>% \n  select(location, date, total_cases) %>% \n  filter(location == \"Germany\" | location == \"United Kingdom\" | location == \"France\" |\n           location == \"Spain\" | location == \"United States\" | location == \"Europe\") %>% \n  mutate(cases_format = scales::dollar(total_cases, big.mark = \".\",\n                                       decimal.mark = \",\",\n                                       prefix = \"\",\n                                       suffix = \"\"))\n\ncovid_data_tbl %>% \n  \n  ggplot(aes(x = date, y = total_cases, color = location)) +\n  \n  geom_line(size = 1) +\n  geom_label_repel(aes(x = date, y = total_cases, label = cases_format, fill = location),\n                   vjust = 0.7,\n                   hjust = 1.2,\n                   color = \"white\",\n                   box.padding = 0.0,\n                   min.segment.length = 0,\n                   segment.color = \"grey50\",\n                   data  = covid_data_tbl %>% slice(which.max(total_cases))) +\n  \n  guides(fill = FALSE) +\n  \n  expand_limits(y = 0) +\n  \n  scale_color_brewer(palette = \"Dark2\") +\n  \n  scale_y_continuous(labels = scales::dollar_format(scale = 1e-6,\n                                                    prefix = \"\",\n                                                    suffix = \" M\")) +\n  \n  scale_x_date(date_labels = \"%B '%y\",\n               date_breaks = \"1 month\",\n               expand = c(0, NA)) +\n  \n  labs(\n    title = \"COVID-19 confirmed cases worldwide\",\n    subtitle = \"As of 08/05/2022\",\n    x = \"\",\n    y = \"Cumulative Cases\",\n    color = \"Country\"\n  ) +\n  \n  theme_minimal() +\n  theme(\n    legend.position = \"bottom\",\n    axis.title = element_text(face = \"bold\"),\n    axis.text.x = element_text(angle = 45)\n  )\n```\n\n::: {.cell-output-display}\n![](04_data_visualization_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n\n\n# Data visualization challenge 2\n\nLast compiled: 2023-05-23\n\n::: {.cell hash='04_data_visualization_cache/html/unnamed-chunk-2_b1cb0827c5d2514632a7ac2c599e947f'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggthemes)\nlibrary(ggrepel)\nlibrary(lubridate)\nlibrary(maps)\n\n## Challenge 2\n\ncovid_data_tbl <- read_csv(\"https://covid.ourworldindata.org/data/owid-covid-data.csv\") %>% \n  mutate(mortality_rate = total_deaths / population) %>% \n  group_by(location) %>% \n  summarise(latest_mort_rate = last(mortality_rate)) %>% \n  select(location, latest_mort_rate) %>% \n  mutate(location = case_when(\n    \n    location == \"United Kingdom\" ~ \"UK\",\n    location == \"United States\" ~ \"USA\",\n    location == \"Democratic Republic of Congo\" ~ \"Democratic Republic of the Congo\",\n    TRUE ~ location\n    \n  )) %>%\n  distinct()\n\nworld <- map_data(\"world\")\n\ncovid_map <- merge(x = world, y = covid_data_tbl, by.x = \"region\", by.y = \"location\") %>% \n  select(region, long, lat, latest_mort_rate)\n\ncovid_map %>% \n  ggplot() +\n  \n  geom_map(aes(x = long, y = lat, map_id = region, fill = latest_mort_rate), map = world) +\n  \n  borders(\"world\", colour = \"grey70\") +\n  \n  scale_fill_continuous(labels = scales::percent_format(accuracy = 0.001), \n                        low = \"skyblue\", \n                        high = \"tomato\") +\n  \n  labs(\n    title = \"Confirmed COVID-19 deaths relative to the size of the population\",\n    subtitle = \"Around 6.2 Million confirmed COVID-19 deaths worldwide\",\n    caption = \"Date: 08/05/2022\",\n    fill = \"Mortality Rate\"\n  ) +\n  \n  theme_minimal() +\n  \n  theme(\n    axis.line = element_blank(),\n    axis.text = element_blank(),\n    axis.ticks = element_blank(),\n    axis.title = element_blank(),\n    title = element_text(color = \"lightcoral\"),\n    legend.position = \"right\"\n  )\n```\n\n::: {.cell-output-display}\n![](04_data_visualization_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}